<%+header%>
<div class="cbi-section" style="max-width:800px; margin:auto;">

  <!-- æ ‡é¢˜ -->
  <h2 style="text-align:center; color:#4CAF50; font-weight:bold;">
    ğŸ”„ GitHub å›ºä»¶æ›´æ–° / Firmware Update
  </h2>

  <!-- ä¿¡æ¯å¡ç‰‡ -->
  <div style="background:#1e1e2f; color:#f0f0f0; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.3); margin-top:20px;">
    <p><strong>ğŸ“Œ å½“å‰å›ºä»¶ç‰ˆæœ¬ / Current Version:</strong> 
      <%=luci.sys.exec("cat /etc/openwrt_version")%>
    </p>
    <p><strong>âœ¨ æœ€æ–°ç‰ˆæœ¬å· / Latest Version:</strong> 
      <%=luci.sys.exec("/usr/bin/check_update.sh latest")%>
    </p>
    <p><strong>ğŸ”— ä¸‹è½½åœ°å€ / Download URL:</strong> 
      <%=luci.sys.exec("/usr/bin/check_update.sh url")%>
    </p>
    <p><strong>ğŸ”’ SHA256 æ ¡éªŒ / SHA256 Checksum:</strong> 
      <%=luci.sys.exec("/usr/bin/check_update.sh sha256")%>
    </p>
    <p><strong>â° æ£€æŸ¥æ—¶é—´ / Check Time:</strong> 
      <%=os.date("%Y-%m-%d %H:%M:%S")%>
    </p>
  </div>

  <!-- æ“ä½œæŒ‰é’® -->
  <div style="text-align:center; margin-top:25px;">
    <!-- ç«‹å³æ£€æŸ¥æ›´æ–° -->
    <form method="post" action="<%=url('admin/system/githubupdate')%>">
      <input type="submit" class="cbi-button cbi-button-apply" 
             style="background:#2196F3; color:white; padding:12px 25px; border:none; border-radius:8px; margin-right:15px; font-size:16px;"
             value="ğŸ” ç«‹å³æ£€æŸ¥æ›´æ–° / Check Now"/>
    </form>

    <!-- ä¸€é”®å‡çº§ -->
    <form method="post" action="<%=url('admin/system/githubupdate/upgrade')%>">
      <input type="submit" class="cbi-button cbi-button-apply" 
             style="background:#4CAF50; color:white; padding:12px 25px; border:none; border-radius:8px; font-size:16px;"
             value="âš¡ ä¸€é”®å‡çº§ / Upgrade Now"
             onclick="return confirm('âš ï¸ ç¡®å®šè¦å‡çº§å›ºä»¶å—ï¼Ÿå‡çº§è¿‡ç¨‹ä¸­è®¾å¤‡ä¼šé‡å¯ã€‚\nAre you sure to upgrade firmware? The device will reboot during upgrade.');"/>
    </form>
  </div>

</div>
<%+footer%>
